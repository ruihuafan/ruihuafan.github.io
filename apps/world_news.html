---
title: Global News Brief
# no layout: we are providing the full HTML document ourselves
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global News Brief</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Inter:wght@300;400;600&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
        
        h1, h2, h3 {
            font-family: 'Merriweather', serif;
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #999;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Helper to clean html tags from text and grab first 2 sentences
        const summarizeText = (htmlContent) => {
            if (!htmlContent) return "No summary available.";
            
            // Remove HTML tags
            const div = document.createElement("div");
            div.innerHTML = htmlContent;
            let text = div.textContent || div.innerText || "";
            
            // Clean up extra whitespace
            text = text.replace(/\s+/g, " ").trim();
            
            // Split into sentences (naive approach looking for . ! ?)
            const sentences = text.match(/[^.!?]+[.!?]+/g) || [text];
            
            // Take first two
            const summary = sentences.slice(0, 2).join(" ");
            
            // If too short, just take the first 200 chars
            if (summary.length < 50) return text.substring(0, 150) + "...";
            
            return summary;
        };

        // Fallback image if news has no image
        const PLACEHOLDER_IMG = "https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=1000&auto=format&fit=crop";

        // News Sources Configuration (Arrays of feeds for diversity)
        const FEEDS = {
            World: [
                "https://feeds.bbci.co.uk/news/world/rss.xml",       // BBC World
                "https://rss.nytimes.com/services/xml/rss/nyt/World.xml", // NYT World
                "https://www.theguardian.com/world/rss"              // The Guardian World
            ],
            Tech: [
                "http://feeds.bbci.co.uk/news/technology/rss.xml",   // BBC Tech
                "https://techcrunch.com/feed/",                      // TechCrunch
                "https://www.theverge.com/rss/index.xml"             // The Verge
            ],
            Business: [
                "http://feeds.bbci.co.uk/news/business/rss.xml",     // BBC Business
                "https://www.cnbc.com/id/100003114/device/rss/rss.html" // CNBC Top News
            ]
        };

        // Helper to extract image from different RSS formats
        const extractImage = (item) => {
            // 1. Explicit thumbnail field (BBC often uses this)
            if (item.thumbnail) return item.thumbnail;
            
            // 2. Enclosure (NYT/Standard RSS often uses this)
            if (item.enclosure && item.enclosure.link) return item.enclosure.link;
            
            // 4. Try to find <img> tag in description
            const div = document.createElement('div');
            div.innerHTML = item.description || item.content || '';
            const img = div.querySelector('img');
            if (img) return img.src;

            return PLACEHOLDER_IMG;
        };

        const NewsCard = ({ item }) => {
            const [imgSrc, setImgSrc] = useState(extractImage(item));
            const summary = summarizeText(item.description || item.content);
            const cleanTitle = item.title.split(" - ")[0];

            return (
                <div className="bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden flex flex-col h-full border border-gray-100 group">
                    <div className="relative h-48 overflow-hidden bg-gray-200">
                        <img 
                            src={imgSrc} 
                            alt={cleanTitle}
                            onError={() => setImgSrc(PLACEHOLDER_IMG)}
                            className="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"
                        />
                        <div className="absolute top-0 right-0 bg-blue-600 text-white text-xs px-2 py-1 m-2 rounded font-bold uppercase tracking-wider shadow-sm">
                            {new Date(item.pubDate).toLocaleDateString(undefined, {month:'short', day:'numeric'})}
                        </div>
                    </div>
                    <div className="p-6 flex-1 flex flex-col">
                        <h3 className="text-xl font-bold text-gray-800 mb-3 leading-tight group-hover:text-blue-600 transition-colors">
                            <a href={item.link} target="_blank" rel="noreferrer">
                                {cleanTitle}
                            </a>
                        </h3>
                        <p className="text-gray-600 text-sm leading-relaxed mb-4 flex-1">
                            {summary}
                        </p>
                        <div className="mt-auto flex justify-between items-center">
                            <a 
                                href={item.link} 
                                target="_blank" 
                                rel="noreferrer"
                                className="inline-flex items-center text-blue-600 text-sm font-semibold hover:underline"
                            >
                                Read Full Story 
                                <svg className="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [category, setCategory] = useState("World");
            const [news, setNews] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            const fetchNews = async (cat) => {
                setLoading(true);
                setError(null);
                setNews([]);

                try {
                    const feedUrls = FEEDS[cat];
                    
                    const feedPromises = feedUrls.map(url => 
                        fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(url)}`)
                            .then(res => res.json())
                            .catch(() => ({ status: 'error' }))
                    );

                    const results = await Promise.all(feedPromises);
                    
                    let allItems = [];
                    
                    results.forEach(data => {
                        if (data.status === 'ok' && data.items) {
                            allItems = [...allItems, ...data.items];
                        }
                    });

                    if (allItems.length === 0) {
                        throw new Error("No news items could be fetched.");
                    }

                    allItems.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));

                    const uniqueItems = [];
                    const seenTitles = new Set();
                    
                    for (const item of allItems) {
                        const simplifiedTitle = item.title.toLowerCase().trim();
                        if (!seenTitles.has(simplifiedTitle)) {
                            seenTitles.add(simplifiedTitle);
                            uniqueItems.push(item);
                        }
                    }

                    setNews(uniqueItems.slice(0, 6));

                } catch (err) {
                    console.error(err);
                    setError("Unable to fetch news at this moment. Please try again later.");
                } finally {
                    setLoading(false);
                }
            };

            useEffect(() => {
                fetchNews(category);
            }, [category]);

            useEffect(() => {
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [loading, news]);

            const dateToday = new Date().toLocaleDateString('en-US', { 
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
            });

            return (
                <div className="min-h-screen pb-12 flex flex-col">

                    <header className="bg-white border-b border-gray-200 sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center h-20">
                                <div className="flex items-center gap-3">
                                    <div className="bg-gray-900 text-white p-2 rounded-lg">
                                        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path></svg>
                                    </div>
                                    <div>
                                        <h1 className="text-2xl font-bold text-gray-900 tracking-tight">Daily Briefing</h1>
                                        <p className="text-xs text-gray-500 font-medium uppercase tracking-widest">{dateToday}</p>
                                    </div>
                                </div>
                                
                                <nav className="hidden md:flex space-x-1 bg-gray-100 p-1 rounded-lg">
                                    {Object.keys(FEEDS).map((cat) => (
                                        <button
                                            key={cat}
                                            onClick={() => setCategory(cat)}
                                            className={`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${
                                                category === cat 
                                                ? 'bg-white text-gray-900 shadow-sm' 
                                                : 'text-gray-600 hover:text-gray-900 hover:bg-gray-200/50'
                                            }`}
                                        >
                                            {cat}
                                        </button>
                                    ))}
                                </nav>
                            </div>
                        </div>
                    </header>

                    <div className="md:hidden bg-white border-b border-gray-100 p-2 overflow-x-auto">
                        <div className="flex space-x-2">
                            {Object.keys(FEEDS).map((cat) => (
                                <button
                                    key={cat}
                                    onClick={() => setCategory(cat)}
                                    className={`px-4 py-2 rounded-full text-xs font-bold border whitespace-nowrap ${
                                        category === cat 
                                        ? 'bg-gray-900 text-white border-gray-900' 
                                        : 'text-gray-600 border-gray-200 bg-gray-50'
                                    }`}
                                >
                                    {cat}
                                </button>
                            ))}
                        </div>
                    </div>

                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 flex-grow">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-900">Top Stories: {category}</h2>
                            <p className="text-gray-600 mt-2">
                                Curated from {category === 'World' ? 'BBC, NYT, and The Guardian' : category === 'Tech' ? 'BBC, TechCrunch, and The Verge' : 'BBC and CNBC'}.
                            </p>
                        </div>

                        {loading ? (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate-pulse">
                                {[...Array(6)].map((_, i) => (
                                    <div key={i} className="bg-white rounded-xl h-96 border border-gray-100">
                                        <div className="h-48 bg-gray-200 rounded-t-xl"></div>
                                        <div className="p-6 space-y-4">
                                            <div className="h-6 bg-gray-200 rounded w-3/4"></div>
                                            <div className="h-4 bg-gray-200 rounded"></div>
                                            <div className="h-4 bg-gray-200 rounded w-5/6"></div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        ) : error ? (
                            <div className="text-center py-20 bg-white rounded-xl border border-red-100">
                                <div className="text-red-500 mb-4">
                                    <svg className="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                                </div>
                                <h3 className="text-lg font-medium text-gray-900">Unable to load news</h3>
                                <p className="text-gray-500 mt-2">{error}</p>
                                <button 
                                    onClick={() => fetchNews(category)}
                                    className="mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                                >
                                    Try Again
                                </button>
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                {news.map((item, index) => (
                                    <NewsCard key={index} item={item} />
                                ))}
                            </div>
                        )}
                    </main>

                    <footer className="border-t border-gray-200 bg-white mt-auto">
                        <div className="max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center">
                            <p className="text-sm text-gray-500">
                                Aggregated from public RSS feeds (BBC, NYT, Guardian, etc). For personal use only.
                            </p>
                            <div className="flex space-x-6 mt-4 md:mt-0">
                                <a href="https://github.com/ruihuafan" className="text-gray-400 hover:text-gray-900">
                                    <span className="sr-only">GitHub</span>
                                    <svg className="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fillRule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clipRule="evenodd"></path></svg>
                                </a>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
